{"remainingRequest":"C:\\Users\\khoul\\OneDrive\\Bureau\\VueProject\\FRONT\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\khoul\\OneDrive\\Bureau\\VueProject\\FRONT\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\khoul\\OneDrive\\Bureau\\VueProject\\FRONT\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\khoul\\OneDrive\\Bureau\\VueProject\\FRONT\\src\\views\\login.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\khoul\\OneDrive\\Bureau\\VueProject\\FRONT\\src\\views\\login.vue","mtime":1661959905021},{"path":"C:\\Users\\khoul\\OneDrive\\Bureau\\VueProject\\FRONT\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1661960142378},{"path":"C:\\Users\\khoul\\OneDrive\\Bureau\\VueProject\\FRONT\\node_modules\\babel-loader\\lib\\index.js","mtime":1661960149059},{"path":"C:\\Users\\khoul\\OneDrive\\Bureau\\VueProject\\FRONT\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1661960142378},{"path":"C:\\Users\\khoul\\OneDrive\\Bureau\\VueProject\\FRONT\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1661960156304}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL2tob3VsL09uZURyaXZlL0J1cmVhdS9WdWVQcm9qZWN0L0ZST05UL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRva2VuOiAiIiwKICAgICAgdXNlcklkOiAiIiwKICAgICAgZW1haWw6ICIiLAogICAgICBwYXNzd29yZDogIiIsCiAgICAgIG1lc3NhZ2U6ICIiCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgYnV0dG9uTG9naW46IGZ1bmN0aW9uIGJ1dHRvbkxvZ2luKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCIvYXBpL2F1dGgvbG9naW4iLCB7CiAgICAgICAgICAgICAgICAgIGVtYWlsOiBfdGhpcy5lbWFpbCwKICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6IF90aGlzLnBhc3N3b3JkCiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ0b2tlbiIsIHJlcy5kYXRhLnRva2VuKTsKICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiaWQiLCByZXMuZGF0YS51c2VySWQpOwogICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJpc0FkbWluIiwgcmVzLmRhdGEuaXNBZG1pbik7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCgiL3Byb2ZpbGUiKTsKICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgICBhbGVydCgiQXV0aGVudGlmaWNhdGlvbiBpbmNvcnJlY3QiKTsKICAgICAgICAgICAgICAgICAgX3RoaXMuZXJyb3IgPSBlcnJvcjsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["C:\\Users\\khoul\\OneDrive\\Bureau\\VueProject\\FRONT\\src\\views\\login.vue"],"names":[],"mappings":";;AAuCA,OAAO,KAAP,MAAkB,OAAlB;AAEA,eAAe;AACb,EAAA,IADa,kBACN;AACL,WAAO;AACL,MAAA,KAAK,EAAE,EADF;AAEL,MAAA,MAAM,EAAE,EAFH;AAGL,MAAA,KAAK,EAAE,EAHF;AAIL,MAAA,QAAQ,EAAE,EAJL;AAKL,MAAA,OAAO,EAAE;AALJ,KAAP;AAOD,GATY;AAUb,EAAA,OAAO,EAAE;AACD,IAAA,WADC,yBACa;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACZ,KAAI,CACP,IADG,CACE,iBADF,EACqB;AACvB,kBAAA,KAAK,EAAE,KAAI,CAAC,KADW;AAEvB,kBAAA,QAAQ,EAAE,KAAI,CAAC;AAFQ,iBADrB,EAKH,IALG,CAKE,UAAC,GAAD,EAAS;AACb;AACE,oBAAA,YAAY,CAAC,OAAb,CAAqB,OAArB,EAA8B,GAAG,CAAC,IAAJ,CAAS,KAAvC;AACA,oBAAA,YAAY,CAAC,OAAb,CAAqB,IAArB,EAA2B,GAAG,CAAC,IAAJ,CAAS,MAApC;AACA,oBAAA,YAAY,CAAC,OAAb,CAAqB,SAArB,EAAgC,GAAG,CAAC,IAAJ,CAAS,OAAzC;AACF;;AACA,kBAAA,KAAI,CAAC,OAAL,CAAa,IAAb,CAAkB,UAAlB;AACD,iBAZG,EAaH,KAbG,CAaG,UAAC,KAAD,EAAW;AAChB,kBAAA,KAAK,CAAC,4BAAD,CAAL;AACA,kBAAA,KAAI,CAAC,KAAL,GAAa,KAAb;AACD,iBAhBG,CADY;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAkBnB;AAnBM;AAVI,CAAf","sourcesContent":["<template>\r\n  <div class=\"container_login\">\r\n    <h2>Bienvenue sur votre r√©seau social d'entreprise</h2>\r\n    <h3>Connexion</h3>\r\n\r\n    <form class=\"login\" @submit.prevent=\"login\">\r\n      <label for=\"email\">Email :</label>\r\n      <input\r\n        required\r\n        v-model=\"email\"\r\n        type=\"email\"\r\n        name=\"email\"\r\n        id=\"email-input\"\r\n        placeholder=\"utilisateur@domaine.fr\"\r\n      />\r\n\r\n      <label for=\"password\">Mot de passe :</label>\r\n      <input\r\n        required\r\n        v-model=\"password\"\r\n        type=\"password\"\r\n        name=\"password\"\r\n        id=\"password-input\"\r\n      />\r\n\r\n      <button type=\"submit\" @click.prevent=\"buttonLogin\">Se connecter</button>\r\n      <p v-if=\"message\"> {{ message }}</p>\r\n    </form>\r\n\r\n    <div class=\"container_signup\">\r\n      <p>\r\n        Vous n'avez pas de compte?\r\n        <router-link to=\"/signup\">signup</router-link>.\r\n      </p>\r\n    </div>\r\n  </div>\r\n</template>\r\n//----------------------------------------------------------------------------------------------------------------------\r\n<script>\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      token: \"\",\r\n      userId: \"\",\r\n      email: \"\",\r\n      password: \"\",\r\n      message: \"\",\r\n    };\r\n  },\r\n  methods: {\r\n    async buttonLogin() {\r\n      await axios\r\n        .post(\"/api/auth/login\", {\r\n          email: this.email,\r\n          password: this.password,\r\n        })\r\n        .then((res) => {\r\n          {\r\n            localStorage.setItem(\"token\", res.data.token);\r\n            localStorage.setItem(\"id\", res.data.userId);\r\n            localStorage.setItem(\"isAdmin\", res.data.isAdmin);\r\n          }\r\n          this.$router.push(\"/profile\");\r\n        })\r\n        .catch((error) => {\r\n          alert(\"Authentification incorrect\");\r\n          this.error = error;\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n//----------------------------------------------------------------------------------------------------------------------\r\n<style scoped>\r\n.container_login {\r\n  display: flex;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n  flex-direction: column;\r\n  box-shadow: 0px 0px 10px 0px grey;\r\n  margin-top: 50px;\r\n  width: 95%;\r\n  background-color: white;\r\n}\r\n.login {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n}\r\n.login input {\r\n  width: 500px;\r\n  margin-bottom: 15px;\r\n  max-width: 94%;\r\n  border-style: solid;\r\n  border-color: #31bcc6;\r\n  background-color: #d2fafa;\r\n}\r\n.login button {\r\n  width: 150px;\r\n  cursor: pointer;\r\n  border: unset;\r\n  font-size: 1.2em;\r\n  box-shadow: 5px 5px 15px -3px rgba(0, 0, 0, 0.5);\r\n  background: #31bcc6;\r\n  margin-top: 40px;\r\n  margin-bottom: 60px;\r\n  transition: 0.3s;\r\n  color: white;\r\n  font-weight: bold;\r\n}\r\n.login button:hover {\r\n  border-radius: 10px 0 10px 0;\r\n}\r\n.container_signup {\r\n  margin-top: 20px;\r\n  box-shadow: 0px 0px 10px 0px grey;\r\n}\r\n</style>"],"sourceRoot":""}]}